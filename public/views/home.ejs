<!-- views/home.ejs -->
<!doctype html>
<html>
<head>
    <html lang="en"> <!--TODO: Change to it, and set to en when translated-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>I Cecchini Del Mare</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" 
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" 
    crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/home.css">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon"/>
    <script src="js/js.cookie.js"></script>
    <script type="text/javascript" src="js/translation.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
</head>
<body data-ng-app="ICDM" data-ng-controller="ctrl">

<div id="header">
  <a target="_blank" href="" class="btn btn-primary btn-sm">
    <span class="glyphicon glyphicon-info-sign"></span> About </a>
  <a target="_blank" href="" class="btn btn-primary btn-sm">
    <span class="glyphicon glyphicon-question-sign"></span> FAQ </a>
  <a target="_blank" href="" class="btn btn-primary btn-sm">
    <span class="glyphicon glyphicon-envelope"></span> Contacts </a>
  <a target="_blank" href="https://www.facebook.com/groups/cecchinidelmare/" class="btn btn-primary btn-sm">
    <span class="fa fa-facebook"></span> Facebook page </a>

  <a id="langSelector" class="btn btn-primary btn-sm">
    <span class="fa fa-language"></span> Language <img src="img/flags/us.gif"> </a>

  <a id="logout" href="/logout" class="btn btn-danger btn-sm">
    <span class="fa fa-power-off"></span> Logout </a>
</div>



<div class="container">

<script>
// The chat needs "user" so keep this before chat.js
var user = <%- JSON.stringify(user) %>;
</script>

<!--Chat-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
<script type="text/javascript" src="js/chat.js"></script>


<div class="row">

<div id="topMap">
  <a onclick="eraseLocation()" class="btn btn-default btn-sm">
    <span class="fa fa-ban"></span> Erase Location </a>

  <a onclick="broadcastLocation()" class="btn btn-default btn-sm">
    <span class="fa fa-map-marker"></span> Broadcast Location </a>
</div>

    <!-- MAP -->
    <div id="map"></div>
    <script type="text/javascript" src="/js/map.js"></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCa0eg5dlngFtHj19frzBL-3tPDaz67g-U&callback=initMap">
    </script>

	</div>

    <div id="contactsBox">
        <div id="contactsHandle"> <span id="contactsSpan">Snipers</span> </div>
            <!--All Online Users-->
            <!--ng-repeat-->
            <ul>
                <li 
                data-ng-repeat="contact in contactsListGET | filter:searchNG | filter:'!'+ssID" 
                class="contactClass" 
                data-contactID="{{contact.id}}" 
                data-contactUID="{{contact.uniqueID}}" 
                data-contactPicture="{{contact.picture}}" 
                data-contactLat="{{contact.lat}}" 
                data-contactLng="{{contact.lng}}"> 
                {{contact.name}} 
                </li>
            </ul>
    <input id="searchField" type="text" name="search" placeholder="&#128269; Search" data-ng-model="searchNG"/>
    </div>
</div>
</body>
</html>
